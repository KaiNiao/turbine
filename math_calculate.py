import random
from scipy.integrate import quad  # 定积分
import matplotlib.pyplot as plt


# 计算转子静压力，压力面、吸力面均采用10次多项式
def static_pressure_quad():
    x = random.random()
    y_regression_dict = {
        "Z": [x, -x],
        "A-B": [
            427910.892328491 * x ** 0 + -2977420.21242628 * x ** 1 + 60258714.1265512 * x ** 2 + -558843733.591737 * x ** 3 + 2902478669.15703 * x ** 4 + -9199540829.18741 * x ** 5 + 18518171433.8792 * x ** 6 + -23813390177.0288 * x ** 7 + 18963309004.065 * x ** 8 + -8521698648.30607 * x ** 9 + 1652134124.79725 * x ** 10,
            424853.592759081 * x ** 0 + 1181716.50914277 * x ** 1 + -55689749.0985375 * x ** 2 + 768454516.714837 * x ** 3 + -5273585860.76575 * x ** 4 + 20077829204.6021 * x ** 5 + -45309319265.8989 * x ** 6 + 62224357985.9544 * x ** 7 + -51131077286.322 * x ** 8 + 23133470381.6182 * x ** 9 + -4435725072.25035 * x ** 10
        ],
        "B-D": [
            460371.089665749 * x ** 0 + -3460209.73625235 * x ** 1 + 73862633.2144502 * x ** 2 + -722232261.740641 * x ** 3 + 3945444963.84791 * x ** 4 + -13061022114.2137 * x ** 5 + 27215538046.6603 * x ** 6 + -35911568737.2178 * x ** 7 + 29117320817.3941 * x ** 8 + -13236152640.6046 * x ** 9 + 2582154612.66788 * x ** 10,
            459698.937997878 * x ** 0 + 854053.174138322 * x ** 1 + -49641788.0259582 * x ** 2 + 724174152.68159 * x ** 3 + -5111814397.82953 * x ** 4 + 19745635141.9961 * x ** 5 + -44901543637.2797 * x ** 6 + 61910626762.6711 * x ** 7 + -50968284819.5903 * x ** 8 + 23072460898.0205 * x ** 9 + -4422589407.09335 * x ** 10
        ],
        "C-B": [
            400361.462020422 * x ** 0 + -2228436.99519079 * x ** 1 + 50323304.8500871 * x ** 2 + -506115185.485681 * x ** 3 + 2767397479.53607 * x ** 4 + -9037519627.92952 * x ** 5 + 18458298014.2858 * x ** 6 + -23820773583.2878 * x ** 7 + 18889515137.7523 * x ** 8 + -8408060230.06854 * x ** 9 + 1609081087.45805 * x ** 10,
            399131.82295676 * x ** 0 + 1293523.52556042 * x ** 1 + -52746855.3960847 * x ** 2 + 705614326.363621 * x ** 3 + -4773404365.41176 * x ** 4 + 18048088692.0204 * x ** 5 + -40609875927.0568 * x ** 6 + 55742112118.0406 * x ** 7 + -45854242289.2261 * x ** 8 + 20792112173.5314 * x ** 9 + -3999041541.69266 * x ** 10
        ],
        "D-C": [
            431883.836623145 * x ** 0 + -3634779.98793015 * x ** 1 + 72603949.1268982 * x ** 2 + -665335423.595953 * x ** 3 + 3436552804.03698 * x ** 4 + -10875855652.8998 * x ** 5 + 21876848573.9193 * x ** 6 + -28084523523.516 * x ** 7 + 22289761283.5921 * x ** 8 + -9966093421.26602 * x ** 9 + 1919567765.78114 * x ** 10,
            427554.619393568 * x ** 0 + 1000229.42019622 * x ** 1 + -52360601.5332336 * x ** 2 + 737492444.713239 * x ** 3 + -5095680570.23505 * x ** 4 + 19452334006.0947 * x ** 5 + -43958075708.8853 * x ** 6 + 60423815955.5626 * x ** 7 + -49686936693.1234 * x ** 8 + 22493531833.875 * x ** 9 + -4315232978.13479 * x ** 10
        ],
        "E-D": [
            464810.440253155 * x ** 0 + -4520750.03026131 * x ** 1 + 94377850.1036699 * x ** 2 + -869717157.580409 * x ** 3 + 4472351929.50399 * x ** 4 + -14060214151.7222 * x ** 5 + 28093353969.7125 * x ** 6 + -35842243987.5557 * x ** 7 + 28288237299.546 * x ** 8 + -12584767956.1 * x ** 9 + 2413020287.61809 * x ** 10,
            458220.580361148 * x ** 0 + 335284.068599592 * x ** 1 + -40436242.1701464 * x ** 2 + 648896750.855846 * x ** 3 + -4775451053.7949 * x ** 4 + 18889573136.5448 * x ** 5 + -43647204250.4671 * x ** 6 + 60900018196.0148 * x ** 7 + -50607455862.9807 * x ** 8 + 23085487329.7541 * x ** 9 + -4453890147.4194 * x ** 10
        ]
    }
    pressure_diff_list = []

    for y_regression_list in y_regression_dict.values():
        y = lambda x: y_regression_list[0] - y_regression_list[1]
        pressure_diff = quad(y, 0, 1)
        pressure_diff_list.append(pressure_diff[0])
    print(pressure_diff_list)

    # plt.plot(y_regression_dict.keys(), pressure_diff_list)
    # plt.show()


if __name__ == "__main__":
    static_pressure_quad()